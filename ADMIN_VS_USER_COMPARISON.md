# ๐ ุงููุฑู ุจูู ุตูุญุงุช ุงููุณุชุฎุฏู ูุงููุดุฑู

## ๐ ููุงุฑูุฉ ุณุฑูุนุฉ

| ุงูููุฒุฉ | ุงููุณุชุฎุฏู ุงูุนุงุฏู | ุงููุดุฑู |
|--------|-----------|--------|
| **ุตูุญุฉ ุงูุชุณุฌูู** | `/login` | `/admin/login` |
| **ุงูููู** | `views/login.html` | `views/admin-login.html` |
| **ุงุณู ุงููุณุชุฎุฏู** | email | username |
| **ูููุฉ ุงููุฑูุฑ** | ูุทููุจุฉ | ูุทููุจุฉ |
| **ููุญุฉ ุงูุชุญูู** | ุญุณุงุจู ููุท | ุฅุฏุงุฑุฉ ูุงููุฉ |
| **ููุน ุงูุชููู** | ุนุงุฏู | ูุน ุนูุงูุฉ isAdmin |
| **ุงูุตูุงุญูุงุช** | ูุญุฏูุฏุฉ | ูุชูุฏูุฉ ุฌุฏุงู |
| **ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู** | ูุง | ูุนู |
| **ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช** | ูุง | ูุนู |
| **ุฅุฏุงุฑุฉ ุงููุดุฑููู** | ูุง | ูุนู (super_admin ููุท) |

---

## ๐ ุงูุงุฎุชูุงูุงุช ุงูุฃูููุฉ

### ุงููุณุชุฎุฏู ุงูุนุงุฏู
```
Route: /api/auth
Protected: protect middleware
Token: ุนุงุฏู ุจุฏูู isAdmin
User Object: {id, role}
```

### ุงููุดุฑู
```
Route: /api/admin
Protected: protectAdmin middleware
Token: ูุน {id, role, isAdmin: true}
Admin Object: {id, role, isAdmin, permissions}
```

---

## ๐ฑ ุงููุงุฌูุงุช

### ุตูุญุฉ ุชุณุฌูู ุฏุฎูู ุงููุณุชุฎุฏู
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ      ุชุณุฌูู ุงูุฏุฎูู          โ
โ                             โ
โ  ุงูุจุฑูุฏ ุงูุฅููุชุฑููู: ___     โ
โ  ูููุฉ ุงููุฑูุฑ: ___           โ
โ                             โ
โ  [ ุชุณุฌูู ุงูุฏุฎูู ]           โ
โ                             โ
โ  ููุณ ูุฏูู ุญุณุงุจุ             โ
โ  [ ุฅูุดุงุก ุญุณุงุจ ุฌุฏูุฏ ]         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ุตูุญุฉ ุชุณุฌูู ุฏุฎูู ุงููุดุฑู
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ   ๐จโ๐ผ ููุญุฉ ุงููุดุฑู          โ
โ   ุชุณุฌูู ุฏุฎูู ุงููุดุฑููู      โ
โ                             โ
โ  ุงุณู ุงููุณุชุฎุฏู: ___         โ
โ  ูููุฉ ุงููุฑูุฑ: ___           โ
โ                             โ
โ  [ ุฏุฎูู ]                   โ
โ                             โ
โ  โ ุงูุนูุฏุฉ ูููุชุฌุฑ           โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ฏ ุงููุณุงุฑุงุช ุงููุฎุชููุฉ

### ูุณุงุฑุงุช ุงููุณุชุฎุฏู
```
GET    /
GET    /products
GET    /products/:slug
GET    /cart
GET    /login
GET    /register
GET    /account

POST   /api/auth/register
POST   /api/auth/login
GET    /api/auth/me
PUT    /api/auth/profile
PUT    /api/auth/change-password
```

### ูุณุงุฑุงุช ุงููุดุฑู
```
GET    /admin/login
GET    /admin/dashboard

POST   /api/admin/login
GET    /api/admin/me
GET    /api/admin/dashboard
PUT    /api/admin/profile
PUT    /api/admin/change-password
POST   /api/admin/logout

GET    /api/admin/users
GET    /api/admin/users/:id
PUT    /api/admin/users/:id
DELETE /api/admin/users/:id

GET    /api/admin/products
POST   /api/admin/products
PUT    /api/admin/products/:id
DELETE /api/admin/products/:id

GET    /api/admin/admins
POST   /api/admin/admins
PUT    /api/admin/admins/:id
DELETE /api/admin/admins/:id
```

---

## ๐๏ธ ูููู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุฌุฏุงูู ุงููุณุชุฎุฏููู
```
User Schema:
โโโ firstName
โโโ lastName
โโโ email
โโโ password (hashed)
โโโ phone
โโโ addresses
โโโ preferences
โโโ createdAt
โโโ updatedAt
```

### ุฌุฏุงูู ุงููุดุฑููู
```
Admin Schema:
โโโ username (unique)
โโโ email (unique)
โโโ password (hashed)
โโโ fullName
โโโ phone
โโโ role (super_admin | admin)
โโโ permissions []
โโโ isActive
โโโ lastLogin
โโโ loginAttempts
โโโ lockUntil
โโโ activityLog []
โโโ createdAt
โโโ updatedAt
```

---

## ๐ ููุงุท ุงูุชูููุฒ ุงูุฑุฆูุณูุฉ

### 1. ุงูุชุณุฌูู
| ุงููุณุชุฎุฏู | ุงููุดุฑู |
|---------|--------|
| email + password | username + password |
| firstName + lastName | fullName |
| ุงูุชุญูู ูู ุงูุจุฑูุฏ | ูุฏูู ูู ูุจู admin |

### 2. ุงูุชุญูู
| ุงููุณุชุฎุฏู | ุงููุดุฑู |
|---------|--------|
| ูุนุฑู ุงููุณุชุฎุฏู (ID) | ูุนุฑู ุงููุดุฑู (ID) + role |
| Middleware: protect | Middleware: protectAdmin |
| localStorage: token | localStorage: adminToken |

### 3. ุงูุตูุงุญูุงุช
| ุงููุณุชุฎุฏู | ุงููุดุฑู |
|---------|--------|
| ุฏูุฑ ูุงุญุฏ (user) | ุฏูุฑ ูุฑู (admin/super_admin) |
| ุตูุงุญูุงุช ูุญุฏูุฏุฉ ุฌุฏุงู | ุตูุงุญูุงุช ูุชุนุฏุฏุฉ ููุงุจูุฉ ููุชูุณุน |
| ูุง ูููู ุชุนุฏูู | ูุงุจู ููุชุนุฏูู |

### 4. ุงูุญูุงูุฉ
| ุงููุณุชุฎุฏู | ุงููุดุฑู |
|---------|--------|
| ุญูุงูุฉ ุฃุณุงุณูุฉ | ุญูุงูุฉ ูุชูุฏูุฉ ุฌุฏุงู |
| 5 ูุญุงููุงุช ูุจู ุงูููู | ููุณ ุงูุญูุงูุฉ |
| ุชุณุฌูู ูุญุฏูุฏ | ุชุณุฌูู ูุงูู ููุฃูุดุทุฉ |

---

## ๐พ ุฃูุซูุฉ ุงูุทูุจุงุช

### ุชุณุฌูู ุฏุฎูู ุงููุณุชุฎุฏู
```javascript
POST /api/auth/login
{
  "email": "user@example.com",
  "password": "password123"
}

// Response
{
  "success": true,
  "token": "eyJhbGc...",
  "user": {
    "id": "123",
    "firstName": "ุฃุญูุฏ",
    "lastName": "ูุญูุฏ",
    "email": "user@example.com",
    "role": "user"
  }
}
```

### ุชุณุฌูู ุฏุฎูู ุงููุดุฑู
```javascript
POST /api/admin/login
{
  "username": "admin",
  "password": "Admin@123456"
}

// Response
{
  "success": true,
  "token": "eyJhbGc...",
  "admin": {
    "id": "456",
    "username": "admin",
    "email": "admin@estore.com",
    "fullName": "ุงููุดุฑู ุงูุฑุฆูุณู",
    "role": "super_admin",
    "permissions": [...]
  }
}
```

---

## ๐ก๏ธ ุงูุญูุงูุฉ ุงููุฎุชููุฉ

### ูุญุงููุงุช ุงูุฏุฎูู ุงูุฎุงุทุฆุฉ

**ูููุณุชุฎุฏู:**
- ูุญุงููุฉ 1-4: ุฑุณุงูุฉ ุฎุทุฃ
- ูุญุงููุฉ 5: ููู ุงูุญุณุงุจ 30 ุฏูููุฉ

**ูููุดุฑู:**
- ููุณ ุงููุธุงู
- ููู ูุน ุชุณุฌูู ุฅุถุงูู ูููุดุงุท
- ูุงูุชุญูู ูู ุงูุตูุงุญูุงุช

---

## ๐ ุฌุฏูู ุงูููุงุฑูุฉ ุงูุดุงููุฉ

```
โโโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโ
โ       ุงูููุฒุฉ        โ   ุงููุณุชุฎุฏู   โ   ุงููุดุฑู     โ
โโโโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโค
โ ุงูููู ุงูุฑุฆูุณู      โ views/login  โ admin-login  โ
โ ูุณุงุฑ API          โ /api/auth    โ /api/admin   โ
โ ูููุฐุฌ DB          โ User         โ Admin        โ
โ Middleware        โ protect      โ protectAdmin โ
โ ููุน Identifier    โ email        โ username     โ
โ ููุน ุงูุชููู        โ ุนุงุฏู         โ ูุน isAdmin   โ
โ ููุญุฉ ุงูุชุญูู       โ ุญุณุงุจู        โ ุดุงููุฉ        โ
โ ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู โ ูุง          โ ูุนู          โ
โ ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช   โ ูุง          โ ูุนู          โ
โ ุชุณุฌูู ุงูุฃูุดุทุฉ     โ ูุญุฏูุฏ        โ ุดุงูู         โ
โ ูุธุงู ุงูุฃุฏูุงุฑ      โ ูุงุญุฏ (user)  โ ูุชุนุฏุฏ        โ
โ ุงูุตูุงุญูุงุช          โ ูุญุฏูุฏุฉ       โ ูุชูุฏูุฉ       โ
โโโโโโโโโโโโโโโโโโโโโโโดโโโโโโโโโโโโโโโดโโโโโโโโโโโโโโโ
```

---

## โจ ุงููุงุฆุฏุฉ ูู ุงููุตู

### โ ุงูุฃูุงู
- ุชููู ูุฎุชูู ููู ููุน
- ูุญุงูุฉ ุฃูุถู ููุญุณุงุจุงุช ุงูุฅุฏุงุฑูุฉ
- ุณุฌู ูุดุงุท ููุตู

### โ ุณูููุฉ ุงูุฅุฏุงุฑุฉ
- ุตูุญุงุช ูููุตูุฉ ููุงุถุญุฉ
- ูุงุฌูุงุช ูุฎุตุตุฉ ููู ูุณุชุฎุฏู
- ูุง ุฎูุท ุจูู ุงูุฃุฏูุงุฑ

### โ ุงููุฑููุฉ
- ุณูู ุชุนุฏูู ุงูุตูุงุญูุงุช
- ุฅุถุงูุฉ ุฃุฏูุงุฑ ุฌุฏูุฏุฉ ุจุณูููุฉ
- ุชูุณุน ุงููููุฒุงุช ูุงุญูุงู

### โ ุงูุฃุฏุงุก
- ุชููู ุฃูู ุชุนููุฏุงู
- ูุญูุตุงุช ุฃุณุฑุน
- ุชุญููู ุฃุฎู

---

## ๐ฏ ุงูุฎูุงุตุฉ

**ุงููุณุชุฎุฏู ุงูุนุงุฏู:**
- ุจุณูุท ูุขูู
- ูุญุฏูุฏ ุงูุตูุงุญูุงุช
- ุชุฑููุฒ ุนูู ุงูุชุณูู

**ุงููุดุฑู:**
- ูุชูุฏู ุฌุฏุงู
- ุตูุงุญูุงุช ุนุงููุฉ
- ุชุฑููุฒ ุนูู ุงูุฅุฏุงุฑุฉ

**ุงููุธุงู:**
- ูููุตู ุชูุงูุงู
- ุขูู ูููู
- ุณูู ุงูุชูุณุน

---

โจ **ูุน ูุฐุง ุงููุตูุ ูุชูุชุน ุชุทุจููู ุจูุณุชูู ุฃูุงู ูุชูุธูู ุงุญุชุฑุงูู!** ๐
